within OpenEMTP.Examples.WBline;
model AerialLine
  extends Modelica.Icons.Example;
  OpenEMTP.Electrical.Lines.WBmodel.WBline L28_29(G = {{{-2.150549023328e-04, 9.499648819101e-06, 9.499648819101e-06}, {9.499648819101e-06, -2.150549023328e-04, 9.499648819101e-06}, {9.499648819101e-06, 9.499648819101e-06, -2.150549023328e-04}}, {{-2.486616940310e-03, 2.067062958563e-05, 2.067062958563e-05}, {2.067062958563e-05, -2.486616940310e-03, 2.067062958563e-05}, {2.067062958563e-05, 2.067062958562e-05, -2.486616940310e-03}}, {{-2.505060515812e-02, 1.106305329546e-02, 1.106305329546e-02}, {1.106305329546e-02, -2.505060515812e-02, 1.106305329546e-02}, {1.106305329546e-02, 1.106305329546e-02, -2.505060515812e-02}}, {{-2.528503264814e-02, -8.710149519151e-03, -8.710149519151e-03}, {-8.710149519151e-03, -2.528503264814e-02, -8.710149519151e-03}, {-8.710149519151e-03, -8.710149519151e-03, -2.528503264814e-02}}, {{-2.609905999964e-01, -2.310112638597e-01, -2.310112638597e-01}, {-2.310112638597e-01, -2.609905999964e-01, -2.310112638597e-01}, {-2.310112638597e-01, -2.310112638597e-01, -2.609905999964e-01}}, {{-4.960930565111e+00, -4.148874696911e+00, -4.148874696911e+00}, {-4.148874696911e+00, -4.960930565111e+00, -4.148874696911e+00}, {-4.148874696911e+00, -4.148874696911e+00, -4.960930565111e+00}}, {{-4.637784901469e+01, -3.481170540368e+01, -3.481170540368e+01}, {-3.481170540368e+01, -4.637784901469e+01, -3.481170540368e+01}, {-3.481170540368e+01, -3.481170540368e+01, -4.637784901469e+01}}},G0 = {{3.012050272641e-03, -3.978092926995e-04, -3.978092926995e-04}, {-3.978092926995e-04, 3.012050272641e-03, -3.978092926995e-04}, {-3.978092926995e-04, -3.978092926995e-04, 3.012050272641e-03}}, Pm_H = {{Complex(-2.455254156258e+05, 0.000000000000e+00), Complex(-1.967494226239e+06, 0.000000000000e+00), Complex(-1.112156914857e+07, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00)}, {Complex(-7.249100247400e+01, 0.000000000000e+00), Complex(-6.991721403589e+03, 0.000000000000e+00), Complex(-4.423868167639e+04, 0.000000000000e+00), Complex(-1.612306720558e+05, 0.000000000000e+00), Complex(-6.398128609102e+05, 0.000000000000e+00)}}, Rm_H = {{{{Complex(1.656393540759e+04, 0.000000000000e+00), Complex(-3.947608130122e+03, 0.000000000000e+00), Complex(-3.947608130122e+03, 0.000000000000e+00)}, {Complex(-3.947608130115e+03, 0.000000000000e+00), Complex(1.656393540763e+04, 0.000000000000e+00), Complex(-3.947608130175e+03, 0.000000000000e+00)}, {Complex(-3.947608130129e+03, 0.000000000000e+00), Complex(-3.947608130166e+03, 0.000000000000e+00), Complex(1.656393540764e+04, 0.000000000000e+00)}}, {{Complex(4.736640904442e+05, 0.000000000000e+00), Complex(-2.426639100791e+05, 0.000000000000e+00), Complex(-2.426639100791e+05, 0.000000000000e+00)}, {Complex(-2.426639100791e+05, 0.000000000000e+00), Complex(4.736640904441e+05, 0.000000000000e+00), Complex(-2.426639100789e+05, 0.000000000000e+00)}, {Complex(-2.426639100791e+05, 0.000000000000e+00), Complex(-2.426639100789e+05, 0.000000000000e+00), Complex(4.736640904441e+05, 0.000000000000e+00)}}, {{Complex(4.036395057008e+06, 0.000000000000e+00), Complex(-2.017861182374e+06, 0.000000000000e+00), Complex(-2.017861182374e+06, 0.000000000000e+00)}, {Complex(-2.017861182374e+06, 0.000000000000e+00), Complex(4.036395057008e+06, 0.000000000000e+00), Complex(-2.017861182374e+06, 0.000000000000e+00)}, {Complex(-2.017861182374e+06, 0.000000000000e+00), Complex(-2.017861182374e+06, 0.000000000000e+00), Complex(4.036395057008e+06, 0.000000000000e+00)}}, {{Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00)}, {Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00)}, {Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00)}}, {{Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00)}, {Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00)}, {Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00), Complex(0.000000000000e+00, 0.000000000000e+00)}}}, {{{Complex(2.160824759421e-01, 0.000000000000e+00), Complex(1.122239826986e-01, 0.000000000000e+00), Complex(1.122239826986e-01, 0.000000000000e+00)}, {Complex(1.122239826986e-01, 0.000000000000e+00), Complex(2.160824759421e-01, 0.000000000000e+00), Complex(1.122239826986e-01, 0.000000000000e+00)}, {Complex(1.122239826986e-01, 0.000000000000e+00), Complex(1.122239826986e-01, 0.000000000000e+00), Complex(2.160824759421e-01, 0.000000000000e+00)}}, {{Complex(1.588401863017e+02, 0.000000000000e+00), Complex(1.433484477647e+02, 0.000000000000e+00), Complex(1.433484477647e+02, 0.000000000000e+00)}, {Complex(1.433484477647e+02, 0.000000000000e+00), Complex(1.588401863017e+02, 0.000000000000e+00), Complex(1.433484477648e+02, 0.000000000000e+00)}, {Complex(1.433484477647e+02, 0.000000000000e+00), Complex(1.433484477648e+02, 0.000000000000e+00), Complex(1.588401863017e+02, 0.000000000000e+00)}}, {{Complex(5.925343425766e+03, 0.000000000000e+00), Complex(5.566228118859e+03, 0.000000000000e+00), Complex(5.566228118859e+03, 0.000000000000e+00)}, {Complex(5.566228118859e+03, 0.000000000000e+00), Complex(5.925343425767e+03, 0.000000000000e+00), Complex(5.566228118857e+03, 0.000000000000e+00)}, {Complex(5.566228118858e+03, 0.000000000000e+00), Complex(5.566228118858e+03, 0.000000000000e+00), Complex(5.925343425767e+03, 0.000000000000e+00)}}, {{Complex(3.809388249901e+04, 0.000000000000e+00), Complex(4.068063201977e+04, 0.000000000000e+00), Complex(4.068063201977e+04, 0.000000000000e+00)}, {Complex(4.068063201976e+04, 0.000000000000e+00), Complex(3.809388249899e+04, 0.000000000000e+00), Complex(4.068063201979e+04, 0.000000000000e+00)}, {Complex(4.068063201977e+04, 0.000000000000e+00), Complex(4.068063201978e+04, 0.000000000000e+00), Complex(3.809388249898e+04, 0.000000000000e+00)}}, {{Complex(-4.368368837958e+04, 0.000000000000e+00), Complex(-5.066503434235e+04, 0.000000000000e+00), Complex(-5.066503434235e+04, 0.000000000000e+00)}, {Complex(-5.066503434235e+04, 0.000000000000e+00), Complex(-4.368368837960e+04, 0.000000000000e+00), Complex(-5.066503434232e+04, 0.000000000000e+00)}, {Complex(-5.066503434234e+04, 0.000000000000e+00), Complex(-5.066503434233e+04, 0.000000000000e+00), Complex(-4.368368837961e+04, 0.000000000000e+00)}}}},m = 3, q = {-6.923405877130e-01, -3.816291191750e+00, -1.837159431218e+01, -6.339097478944e+01, -5.313072656937e+03, -1.124717827931e+05, -2.054468804013e+06}, tau = {1.632977921283e-04, 1.643399010055e-04})  annotation (
    Placement(visible = true, transformation(origin={-20, 20},  extent={{-20,-10},{20,10}},      rotation = 0)));
  Modelica.Electrical.MultiPhase.Sources.CosineVoltage AC(V = 400e3 * sqrt(2 / 3) * {1, 1, 1}, freqHz = {60, 60, 60}, phase = {0, -2.0944, 2.0944}, startTime = -1 * {1, 1, 1})  annotation (
    Placement(visible = true, transformation(origin = {-54, 20}, extent = {{10, -10}, {-10, 10}}, rotation = 0)));
  Modelica.Electrical.MultiPhase.Basic.Star star1 annotation (
    Placement(visible = true, transformation(origin = {-84, 20}, extent = {{10, -10}, {-10, 10}}, rotation = 0)));
  Modelica.Electrical.Analog.Basic.Ground ground1 annotation (
    Placement(visible = true, transformation(origin = {-108, 0}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
  Modelica.Electrical.Analog.Basic.Ground ground2 annotation (
    Placement(visible = true, transformation(origin = {86, -6}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
  Modelica.Electrical.Analog.Basic.Resistor R(R = 1e-3)  annotation (
    Placement(visible = true, transformation(origin = {32, 20}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
  OpenEMTP.Electrical.Switches.IdealSwitch SW(Tclosing = 0.25, Topening = 0.35)  annotation (
    Placement(visible = true, transformation(origin = {62, 20}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
  Modelica.Electrical.MultiPhase.Basic.PlugToPin_p A(k = 1)  annotation (
    Placement(visible = true, transformation(origin = {4, 20}, extent = {{-10, -10}, {10, 10}}, rotation = 0)));
equation
  connect(star1.pin_n, ground1.p) annotation (
    Line(points = {{-94, 20}, {-108, 20}, {-108, 10}}, color = {0, 0, 255}));
  connect(star1.plug_p, AC.plug_n) annotation (
    Line(points = {{-74, 20}, {-64, 20}}, color = {0, 0, 255}));
  connect(AC.plug_p, L28_29.Pk) annotation (
    Line(points = {{-44, 20}, {-31, 20}}, color = {0, 0, 255}));
  connect(A.plug_p, L28_29.Pm) annotation (
    Line(points = {{2, 20}, {-7, 20}}, color = {0, 0, 255}));
  connect(R.n, SW.pin_p) annotation (
    Line(points = {{42, 20}, {52, 20}, {52, 20}, {52, 20}}, color = {0, 0, 255}));
  connect(A.pin_p, R.p) annotation (
    Line(points = {{6, 20}, {22, 20}, {22, 20}, {22, 20}}, color = {0, 0, 255}));
  connect(SW.pin_n, ground2.p) annotation (
    Line(points = {{71, 20}, {86, 20}, {86, 4}}, color = {0, 0, 255}));
  annotation (
    uses(Modelica(version = "3.2.3")), experiment(
      StopTime = 0.01,
      Interval= 2e-08,
      Tolerance=1e-06, StartTime = 0),
    Icon(coordinateSystem(extent = {{-150, -150}, {150, 150}})),
    Diagram(coordinateSystem(extent = {{-150, -150}, {150, 150}})),
  __OpenModelica_simulationFlags(lv = "LOG_STATS", outputFormat = "mat", s = "dassl"));
end AerialLine;
